import{a as X,c as Z,d as $,e as ee,f as te,g as re,i as ne,j as oe,k as ae}from"./chunk-GKPRIGTJ.mjs";import{b as H}from"./chunk-O5XD6TWA.mjs";import{I,J,L as r,O as K,Q,e as q,g as y,i as v,l as x,m as s,r as z,s as G}from"./chunk-75OCFLJV.mjs";var B=e=>e instanceof z;function ue(e,o){let a=s(o),p=s(),m=s(!1),g=I.current()===I.canvas,b=o?.onChangeDeps?o.onChangeDeps:[],f=y(o?.onChange,[...b]),C=y(d=>{var i;return!((i=a.current)===null||i===void 0)&&i.transform?a.current.transform(d):d},[]),u=ee(()=>B(e)?e:G(C(e)));return v(()=>{if(!B(e)&&m.current){var d,i;let T=C(e);if((d=p.current)===null||d===void 0||d.stop(),f&&f(T,u),!((i=a.current)===null||i===void 0)&&i.animate&&!g){var h;p.current=J(u,T,(h=a.current)===null||h===void 0?void 0:h.transition)}else u.set(T)}m.current=!0},[e,...b]),u}var c;(function(e){e.Fill="fill",e.Contain="contain",e.Cover="cover",e.None="none",e.ScaleDown="scale-down"})(c||(c={}));var l;(function(e){e.Video="Upload",e.Url="URL"})(l||(l={}));function Me(e){let{width:o,height:a,topLeft:p,topRight:m,bottomRight:g,bottomLeft:b,id:f,children:C,...u}=e;return u}function D(e){let o=Me(e);return H(Ee,{...o})}var Ee=q(function(o){let{srcType:a,srcFile:p,srcUrl:m,playing:g,canvasPlay:b,muted:f,playsinline:C,controls:u,progress:d,objectFit:i,backgroundColor:h,radius:T,topLeft:xe,topRight:Ve,bottomRight:Re,bottomLeft:Fe,isMixed:Se,onSeeked:V,onPause:R,onPlay:F,onEnd:S,onClick:de,onMouseEnter:ce,onMouseLeave:pe,onMouseDown:me,onMouseUp:fe,poster:ye,restartOnEnter:ke,posterEnabled:ve,startTime:k,volume:O,loop:A}=o,ge=Q(),t=s(),be=te(),P=s(!1),w=s(null),Y=s(null),_=ne(),Ce=oe(o),j=k===100?99.9:k,L=!_||b,U=x(()=>g,[]),he=x(()=>_?!0:f,[_,f]),M=y(n=>{if(!t.current)return;let N=(n===1?.999:n)*t.current.duration,_e=Math.abs(t.current.currentTime-N)<.1;t.current.duration>0&&!_e&&(t.current.currentTime=N)},[]),E=y(()=>{!(t.current.currentTime>0&&t.current.onplaying&&!t.current.paused&&!t.current.ended&&t.current.readyState>t.current.HAVE_CURRENT_DATA)&&t.current&&!P.current&&ge&&(P.current=!0,t.current.play().catch(N=>{}).finally(()=>P.current=!1))},[]),W=y(()=>{!t.current||P.current||t.current.pause()},[]);v(()=>{g&&L?E():W()},[g,b]),v(()=>{M(j*.01)},[k,p,m]);let Te=ue(d,{transform:n=>n*.01,onChange:n=>{M(n)}});re(Te,n=>{_||M(n)}),Z(()=>{w.current!==null&&t.current&&(!Y&&A||!w.current)&&E()}),$(()=>{t.current&&(Y.current=t.current.ended,w.current=t.current.paused,W())});let Pe=x(()=>{if(a===l.Url)return m;if(a===l.Video)return p},[a,p,m]);return v(()=>{be&&t.current&&U&&setTimeout(()=>E(),50)},[]),v(()=>{t.current&&!f&&(t.current.volume=O/100)},[O]),H("video",{onClick:de,onMouseEnter:ce,onMouseLeave:pe,onMouseDown:me,onMouseUp:fe,src:Pe,loop:A,ref:t,onSeeked:n=>V?.(n),onPause:n=>R?.(n),onPlay:n=>F?.(n),onEnded:n=>S?.(n),autoPlay:U&&L,poster:ve?ye:void 0,onLoadedData:()=>{t.current&&t.current.currentTime<.3&&M(j*.01),L&&t.current&&U&&E()},controls:u,muted:he,playsInline:C,style:{width:"100%",height:"100%",borderRadius:Ce,display:"block",objectFit:i,backgroundColor:h,objectPosition:"50% 50%"}})});D.displayName="Video";D.defaultProps={srcType:l.Url,srcUrl:"https://assets.mixkit.co/videos/preview/mixkit-ice-cream-glass-of-red-soda-5094-small.mp4",srcFile:"",posterEnabled:!1,controls:!1,autoPlay:!0,canvasPlay:!1,loop:!0,muted:!0,playsinline:!0,restartOnEnter:!1,objectFit:c.Cover,backgroundColor:"rgba(0,0,0,0)",radius:0,volume:25,startTime:0};K(D,{srcType:{type:r.Enum,displaySegmentedControl:!0,title:"Source",options:[l.Url,l.Video]},srcUrl:{type:r.String,title:" ",placeholder:"../example.mp4",hidden(e){return e.srcType===l.Video},description:"Hosted video file URL. For Youtube, use the Youtube component."},srcFile:{type:r.File,title:" ",allowedFileTypes:["mp4"],hidden(e){return e.srcType===l.Url}},playing:{type:r.Boolean,title:"Playing",enabledTitle:"Yes",disabledTitle:"No"},posterEnabled:{type:r.Boolean,title:"Poster",enabledTitle:"Yes",disabledTitle:"No"},poster:{type:r.Image,title:" ",hidden:({posterEnabled:e})=>!e},backgroundColor:{type:r.Color,title:"Background"},...ae,startTime:{title:"Start Time",type:r.Number,min:0,max:100,step:.1,unit:"%"},loop:{type:r.Boolean,title:"Loop",enabledTitle:"Yes",disabledTitle:"No"},objectFit:{type:r.Enum,title:"Fit",options:[c.Cover,c.Fill,c.Contain,c.ScaleDown,c.None]},canvasPlay:{type:r.Boolean,title:"On Canvas",enabledTitle:"Play",disabledTitle:"Pause",hidden(e){return e.autoPlay===!1}},controls:{type:r.Boolean,title:"Controls",enabledTitle:"Show",disabledTitle:"Hide"},muted:{type:r.Boolean,title:"Muted",enabledTitle:"Yes",disabledTitle:"No"},volume:{type:r.Number,max:100,min:0,unit:"%",hidden:({muted:e})=>e},onEnd:{type:r.EventHandler},onSeeked:{type:r.EventHandler},onPause:{type:r.EventHandler},onPlay:{type:r.EventHandler},...X});export{ue as a,D as b};
//# sourceMappingURL=chunk-IZD3PCQZ.mjs.map
